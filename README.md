# Обновление программного обеспечения

Приложение для автоматического обновления программного обеспечения с GitHub для устройств на базе Arduino.

## Возможности

- Автоматическое определение USB портов
- Проверка текущей версии ПО на устройстве
- Автоматическая загрузка обновлений с GitHub
- Создание резервных копий перед обновлением
- Возможность отката к предыдущей версии
- Современный материальный дизайн
- Индикация прогресса обновления
- Простой и интуитивно понятный интерфейс
- Локальное хранение всех версий обновлений
- Поддержка обновления любых типов файлов

## Установка

1. Убедитесь, что у вас установлен Python 3.8 или выше
2. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск

```bash
python main.py
```

## Использование

1. Запустите приложение
2. Выберите USB порт, к которому подключено устройство
3. Нажмите "Проверить обновления" для поиска и загрузки новых версий
4. При наличии обновления нажмите "Установить"
5. В случае проблем используйте "Откатить к предыдущей версии"

## Требования

- Python 3.8+
- PyQt6
- pyserial
- qt-material
- requests
- semantic-version

## Безопасность

- Перед каждым обновлением автоматически создается резервная копия
- Проверка версий предотвращает установку более старых версий
- Все обновления загружаются только с официального GitHub репозитория
- Используется только публичный API GitHub без необходимости авторизации

## Структура проекта

```
project/
├── backups/                    # Резервные копии прошивок
│   └── backup_YYYYMMDD_HHMMSS.bin
├── releases/                   # Загруженные версии обновлений
│   ├── 1.0.0/                 # Директория для каждой версии
│   │   ├── update.zip         # Оригинальный архив
│   │   └── files/             # Распакованные файлы обновления
│   │       ├── config.json
│   │       ├── firmware.hex
│   │       └── ...
│   └── 1.0.1/
│       └── ...
└── temp/                      # Временные файлы
```

## Для разработчиков

При создании релиза в GitHub:
1. Используйте семантическое версионирование (например, v1.0.0)
2. Создайте ZIP-архив, содержащий:
   - Любые файлы для обновления (прошивки, конфигурации, ресурсы и т.д.)
   - Описание изменений (опционально)
3. Прикрепите ZIP-архив к релизу
4. Убедитесь, что релиз публичный

## Структура архива обновления

Архив обновления (.zip) может содержать любые файлы, которые требуется обновить:
- Файлы прошивок (.hex, .bin)
- Конфигурационные файлы (.json, .xml)
- Ресурсы (.dat, .res)
- Документация (.md, .txt)
- И другие

Пример структуры архива:
```
update.zip
├── firmware/
│   ├── main.hex
│   └── bootloader.bin
├── config/
│   ├── settings.json
│   └── params.xml
├── resources/
│   └── data.dat
└── README.md
``` 